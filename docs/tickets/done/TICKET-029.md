# TICKET-029: 백테스트 결과 다운로드 기능 재테스트

**상태**: TODO  
**우선순위**: HIGH  
**발급일**: 2026-02-09  
**에이전트**: LLD 테스트 운영 담당자  
**테스트 대상**: TICKET-028 버그 수정

---

## 배경

TICKET-028에서 백테스트 결과 다운로드 엔드포인트 404 에러가 수정되었습니다.
- 문제: 프론트엔드가 잘못된 엔드포인트 호출 (`/api/results/bt-{id}/download`)
- 해결: 올바른 엔드포인트 호출로 변경 (`/api/backtest/result/:id`)

이제 전체 기능을 재테스트하여 버그 수정 검증 및 예상치 못한 영향 검토가 필요합니다.

---

## 테스트 요구사항

### 1. 기능 테스트
**테스트 대상 파일**: `frontend/pages/specific-stock-selection.html`

#### 1.1 일반 시나리오
- [ ] 백테스트 실행
- [ ] 진행률 표시 정상 작동 확인
- [ ] 백테스트 완료
- [ ] "결과 다운로드" 버튼 표시
- [ ] "결과 다운로드" 버튼 클릭
- [ ] 404 에러 없이 파일 다운로드 확인
- [ ] 다운로드 파일 이름: `backtest-result-{id}.json`

#### 1.2 에지 케이스
- [ ] 여러 번 다운로드 버튼 클릭 (중복 다운로드)
- [ ] 브라우저 다운로드 폴더 동시 다중 다운로드
- [ ] 네트워크 지연 시뮬레이션 (느린 연결)
- [ ] 백엔드가 느린 응답 시뮬레이션

#### 1.3 데이터 검증
- [ ] 다운로드된 파일 포맷이 JSON인지 확인
- [ ] 파일 내용의 필드 검증 (backtest_id, performance, trades 등)
- [ ] 파일 크기가 합리적인지 확인 (0KB 아님)

### 2. 회귀 테스트
백테스팅 전체 프로세스가 여전히 정상 작동하는지 확인:

- [ ] "주식 선택" 페이지 로드 정상
- [ ] 백테스팅 시작 버튼 클릭 정상
- [ ] 백테스트 진행률 표시 정상
- [ ] 프로그래스 바 업데이트 정상
- [ ] 결과 표시 정상
- [ ] 다른 기존 기능에 영향 없음

### 3. API 호출 검증
개발자 도구(F12)의 네트워크 탭에서:

- [ ] 올바른 엔드포인트 호출: `GET /api/backtest/result/{id}`
- [ ] HTTP 상태 코드: `200 OK`
- [ ] 응답 타입: `application/json`
- [ ] 응답 시간: 합리적 범위 (< 5초)

### 4. 브라우저 호환성 (선택사항)
- [ ] Chrome/Edge
- [ ] Firefox

---

## 테스트 실행 계획

### 환경 설정
1. 백엔드 서버 시작: `node backend/server.js`
2. 프론트엔드 브라우저에서 로드: 파일 시스템 또는 로컬 웹서버
3. 개발자 도구(F12) 열기

### 테스트 단계별 실행
1. **일반 시나리오** (5-10분)
   - 표준 백테스트 실행부터 다운로드까지 정상 작동 확인
2. **에지 케이스** (5분)
   - 중복 클릭, 네트워크 지연 등 비정상 상황
3. **데이터 검증** (3분)
   - 다운로드 파일의 포맷과 내용 확인
4. **회귀 테스트** (5분)
   - 기존 기능과 다른 기능 영향도 확인
5. **API 호출 검증** (2분)
   - 개발자 도구에서 네트워크 탭 확인

**예상 소요 시간**: 약 20-25분

---

## 수용 기준

- ✅ 백테스트 결과 다운로드 기능 정상 작동 (404 에러 없음)
- ✅ 다운로드 파일이 올바른 형식(JSON) 및 내용 포함
- ✅ 기존 백테스팅 기능에 영향 없음
- ✅ API 호출이 올바른 엔드포인트(`/api/backtest/result/:id`) 사용
- ✅ 에지 케이스 대응 정상

---

## 실패 시 대응

테스트 실패 시:
1. 버그 내용 상세 기록
2. 재현 방법 명확히 기록
3. 스크린샷/콘솔 에러 캡처
4. 운영 에이전트에 보고
5. 운영 에이전트가 TICKET-028 추가 수정 지시

---

## 후속 조치

본 티켓 완료(성공) 후:
- TICKET-030: 프로덕션 재배포 (v2.0.2 또는 핫픽스)
- TICKET-031: 배포 후 모니터링

---

## 참고 문서

- [TICKET-028-COMPLETION-REPORT.md](../../TICKET-028-COMPLETION-REPORT.md) - 버그 수정 상세 내용
- [test_ticket_028.py](../../test_ticket_028.py) - 코드 검증 테스트
- [test_ticket_028_integration.py](../../test_ticket_028_integration.py) - 통합 테스트
