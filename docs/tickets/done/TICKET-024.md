# TICKET-024: 백테스트 결과 표시 기능 테스트 케이스 작성

**상태**: TODO  
**우선순위**: HIGH  
**발급일**: 2026-02-08  
**에이전트**: LLD 테스트 문서 담당자  
**관련 티켓**: TICKET-023 (선행 완료)  

---

## 배경

TICKET-023에서 백테스트 결과 표시 기능이 완료되었습니다. 이 기능을 검증하기 위한 테스트 케이스를 작성해야 합니다.

---

## 요구사항

### 1. 테스트 케이스 정의
TICKET-023의 5가지 검증 기준을 기반으로 테스트 케이스 작성:

#### TC-BACKTEST-001: 진행 상황 실시간 표시
- **목적**: 백테스팅 시작 후 진행 상황이 실시간으로 표시되는지 확인
- **사전 조건**: 웹페이지 열기, 특정 종목 1개 이상 선택
- **테스트 단계**:
  1. "백테스팅 시작" 버튼 클릭
  2. 진행 섹션(progress-section)이 화면에 표시되는지 확인
  3. 진행률이 0%에서 시작하는지 확인
  4. 1초 단위로 진행률이 증가하는지 확인 (최소 3번)
  5. 진행 상태 메시지가 표시되는지 확인
- **예상 결과**: 
  - 진행률 표시: 0% → 25% → 50% → 75% → 100%
  - 진행 바가 부드럽게 애니메이션됨
  - 상태 메시지: "백테스팅 진행 중..."

#### TC-BACKTEST-002: 완료 후 5개 성과 지표 표시
- **목적**: 백테스팅 완료 후 5개 성과 지표가 모두 표시되는지 확인
- **사전 조건**: TC-BACKTEST-001이 완료되고 진행률이 100%에 도달
- **테스트 단계**:
  1. 결과 섹션(results-section)이 화면에 표시되는지 확인
  2. 완료 배지가 표시되는지 확인
  3. 다음 5개 지표가 모두 렌더링되는지 확인:
     - 총 수익률 (예: "45.32%", "양수는 초록색")
     - 샤프 지수 (예: "1.85")
     - 최대 손실률 (예: "-12.5%", "음수는 빨강색")
     - 총 거래 횟수 (예: "247", "천 단위 표기")
     - 승률 (예: "56.8%")
  4. 메타데이터 표시 확인 (ID, 완료 시간)
- **예상 결과**:
  - 5개 지표 모두 명확하게 표시
  - 색상 코딩 적용 (양수=초록, 음수=빨강)
  - 숫자 포맷 올바름 (소수점, 천 단위 등)

#### TC-BACKTEST-003: 에러 처리
- **목적**: API 호출 실패 또는 타임아웃 시 에러 메시지 표시 확인
- **사전 조건**: 네트워크 상태 불안정 또는 서버 오류 시뮬레이션 가능한 환경
- **테스트 단계**:
  1. 백테스팅 시작
  2. 진행 중 API 호출 실패 시뮬레이션 (개발자 도구 네트워크 차단)
  3. 에러 메시지가 표시되는지 확인
  4. 30분 타임아웃 시 자동 중단 확인
  5. 결과 조회 실패 시 최대 3회 재시도 확인
- **예상 결과**:
  - 에러 메시지 명확 (빨강색)
  - 타임아웃 처리 정상 작동
  - 재시도 로직 최대 3회 수행

#### TC-BACKTEST-004: UI 직관성
- **목적**: UI가 사용자 이해하기 쉬운지 확인
- **테스트 단계**:
  1. 진행 섹션의 레이아웃이 명확한지 확인
  2. 진행 바가 시각적으로 명확한지 확인
  3. 결과 테이블이 가독성 높은지 확인
  4. 색상 코딩이 직관적인지 확인 (양수=초록, 음수=빨강)
  5. 버튼 위치 및 기능이 명확한지 확인 (다운로드, 초기화)
- **예상 결과**:
  - 모든 요소가 명확하게 보임
  - 레이아웃이 정렬되고 일관성 있음
  - 색상이 명확하게 구분됨

#### TC-BACKTEST-005: 복원력 및 안정성
- **목적**: 중복 실행, 페이지 새로고침 등에서 안정성 확인
- **테스트 단계**:
  1. 백테스팅 시작 후 "백테스팅 시작" 버튼 다시 클릭
     - 버튼이 disabled 상태인지 확인
  2. 새로고침 후 이전 결과 조회 가능 여부 확인
  3. "초기화" 버튼으로 상태 리셋 가능 여부 확인
  4. 새로운 백테스팅 시작 가능 여부 확인
- **예상 결과**:
  - 중복 실행 불가능 (버튼 disabled)
  - 초기화 후 완전히 리셋됨
  - 새로운 백테스팅 시작 가능

### 2. 커버리지 요구사항
- **기능 커버리지**: 80% 이상
- **시나리오 커버리지**: 정상, 에러, 경계 케이스 모두 포함

### 3. 문서 형식
- Markdown 형식
- 테스트 케이스번호, 목적, 사전 조건, 테스트 단계, 예상 결과 포함
- 스크린샷 또는 로그 첨부 (선택사항)

---

## 제출 요구사항

1. **테스트 케이스 문서**: `docs/test/lld/test-cases-backtest-results.md`
2. **테스트 매트릭스**: 테스트 케이스별 우선순위, 복잡도 표기
3. **커버리지 분석**: 구현된 기능 대비 커버리지 % 그래프

---

## 완료 기준

- ✓ 5개 이상 테스트 케이스 작성
- ✓ 기능 커버리지 80% 이상
- ✓ 각 TC별 목적/단계/예상결과 명확
- ✓ 테스트 환경 담당자가 실행 가능한 수준

---

## 다음 단계

1. TICKET-025: LLD 테스트 환경 구성 (병렬 진행)
2. TICKET-026: 테스트 수행 (TICKET-024, 025 완료 후)
3. TICKET-027: 배포 (TICKET-026 완료 후)
