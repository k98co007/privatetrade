# 유저스토리 문서 (UserStory)
**버전**: 1.0  
**기반**: TICKET-001 (인터뷰 요약)  
**작성일**: 2026년 2월 8일  

---

## US-001: 종목 구성 편집 (블랙리스트)

**As a** 주식투자자  
**I want to** 코스피 200 종목 중 내가 원하지 않는 종목을 제외할 수 있도록  
**So that** 백테스팅이 관심 있는 종목에만 수행되어 시간을 절약할 수 있다

**수락 조건**:
- [ ] 웹브라우저 UI에서 "블랙리스트 편집" 버튼 클릭 시 팝업 또는 실드 화면 표시
- [ ] 현재 블랙리스트 목록 조회 가능
- [ ] 종목 추가/제거 가능 (검색 또는 체크박스)
- [ ] 저장 시 서버에 즉시 반영
- [ ] 서버 재시작 후에도 블랙리스트 유지

---

## US-002: 종목 구성 편집 (화이트리스트)

**As a** 주식투자자  
**I want to** 코스피 200 외 추가 종목을 백테스팅 대상에 포함할 수 있도록  
**So that** 관심 있는 특정 종목들도 함께 백테스팅할 수 있다

**수락 조건**:
- [ ] 웹브라우저 UI에서 "화이트리스트 추가" 버튼 클릭 시 입력 화면 표시
- [ ] 종목코드 또는 종목명으로 검색 가능
- [ ] 화이트리스트에 추가된 종목 목록 조회 가능
- [ ] 종목 제거 가능
- [ ] 저장 시 서버에 즉시 반영
- [ ] 서버 재시작 후에도 화이트리스트 유지

---

## US-003: 투자 전략 선택

**As a** 주식투자자  
**I want to** 백테스팅 수행 전에 어떤 투자 전략을 테스트할지 선택할 수 있도록  
**So that** 다양한 투자 전략을 비교분석할 수 있다

**지원 전략**:
1. **전략 1**: 고정시간 매수/매도 (Daily Trading)
2. **전략 2**: Trailing Stop 전략 (Next-day Profit Target)

**수락 조건**:
- [ ] 웹브라우저에서 라디오 버튼 또는 드롭다운으로 전략 선택 가능
- [ ] 선택된 전략에 따라 추가 파라미터 입력 필드 표시
- [ ] 전략마다 기본값 제시 (예: 기본 매수시간, 매도시간)
- [ ] 사용자 커스텀 파라미터 입력 가능

---

## US-004: 백테스팅 시작

**As a** 주식투자자  
**I want to** 설정한 종목과 전략으로 즉시 백테스팅을 시작할 수 있도록  
**So that** 투자 전략이 실제로 수익이 나는지 빠르게 검증할 수 있다

**수락 조건**:
- [ ] 웹브라우저에서 "백테스팅 시작" 또는 "시뮬레이션 실행" 버튼 표시
- [ ] 버튼 클릭 시 백엔드 시뮬레이션 엔진 호출
- [ ] 진행 중 상태 표시 (예: 처리 중인 종목, 진행률)

---

## US-005: 실시간 진행상황 모니터링

**As a** 주식투자자  
**I want to** 백테스팅이 실시간으로 어디까지 진행되었는지 볼 수 있도록  
**So that** 시스템이 정상 작동하는지 확인하고 예상 완료 시간을 알 수 있다

**수락 조건**:
- [ ] 웹브라우저에서 라이브 진행상황 표시 (예: "50/200 종목 완료")
- [ ] 매초 또는 수초 단위로 UI 업데이트
- [ ] 현재 처리 중인 종목 명 표시
- [ ] 백테스팅 중단 버튼 제공
- [ ] 네트워크 연결 끊김 시 재연결 자동 시도

---

## US-006: 백테스팅 결과보고서 (요약)

**As a** 주식투자자  
**I want to** 전체 백테스팅 결과를 한눈에 요약해서 볼 수 있도록  
**So that** 투자 전략의 수익성을 빠르게 파악할 수 있다

**결과 지표**:
- 최종 수익/손해 (원)
- 수익률 (%)
- 투자금 1천만 원 대비 순닷값
- 거래 횟수 (수익/손해 구분)
- 누적 거래 수익액
- 누적 거래 손해액
- 거래일
- 비용 포함 정보 (세금 0.2%, 수수료 0.011%)

**수락 조건**:
- [ ] 백테스팅 완료 후 결과보고서 자동 표시
- [ ] 요약 지표들을 직관적인 차트/그래프로 시각화
- [ ] 요약 테이블 형식으로도 제공
- [ ] 인쇄/다운로드 기능 제공

---

## US-007: 종목별 상세 거래 내역 조회

**As a** 주식투자자  
**I want to** 각 종목별로 수행된 모든 거래 내역을 상세히 볼 수 있도록  
**So that** 어느 종목에서 수익/손해가 발생했는지 분석할 수 있다

**거래 내역 항목**:
- 거래일자
- 거래 시간 (매수/매도 시각)
- 매수 가격
- 매도 가격
- 거래당 수익/손해 (원)
- 수익률 (%)
- 누적 손해액(씨드머니) 반영 여부

**수락 조건**:
- [ ] 결과보고서에서 종목 선택 시 해당 종목의 거래 내역 팝업 또는 상세 페이지 표시
- [ ] 거래 내역 테이블로 표시 (정렬/필터 가능)
- [ ] 거래 내역 개수 표시

---

## US-008: 거래내역 차트 시각화

**As a** 주식투자자  
**I want to** 특정 거래의 매수/매도 지점을 실제 2분 봉 차트 위에 볼 수 있도록  
**So that** 거래가 언제 이루어졌는지 시각적으로 확인하고 거래 패턴을 분석할 수 있다

**시각화 요소**:
- 2분 봉 캔들차트 표시
- 매수 지점 표기 (예: 녹색 삼각형 ▲)
- 매도 지점 표기 (예: 빨간색 삼각형 ▼)
- 차트 확대/축소 기능
- 거래 가격선 표시

**수락 조건**:
- [ ] 상세 거래 내역에서 특정 거래 행 클릭 시 해당 거래의 차트 표시
- [ ] 차트는 해당 거래 전후 ±N봉(예: ±30봉) 표시
- [ ] 모바일/태블릿 환경에서도 차트 조회 가능

---

## US-009: 씨드머니 손해액 적용

**As a** 주식투자자  
**I want to** 초기 손해가 발생하면 이후 백테스팅에서 손해액을 제외한 잔액으로 다시 매수하도록  
**So that** 현실적인 투자 시뮬레이션이 가능하다

**로직**:
- 초기 투자금: 1천만원
- 첫 거래 손해 발생 시: 잔액 = 1천만 - 손해액
- 다음 거래는 잔액으로 재계산

**수락 조건**:
- [ ] 백테스팅 엔진이 씨드머니 손해액을 정확히 계산
- [ ] 결과보고서에 "씨드머니 적용" 여부 표시
- [ ] 거래 내역에 각 거래 시점의 누적 손해액 표시

---

## US-010: 비용 포함 (세금 및 수수료)

**As a** 주식투자자  
**I want to** 백테스팅 결과에 실제 거래 비용(세금 0.2%, 수수료 0.011%)이 반영되도록  
**So that** 현실에 가까운 수익률을 얻을 수 있다

**비용 적용**:
- 세금: 매도금액 총액의 0.2%
- 수수료: 거래액의 0.011%
- 적용 시점: 매수/매도 체결 시

**수락 조건**:
- [ ] 모든 거래에 비용 자동 차감
- [ ] 결과보고서에 총 비용액 표시
- [ ] 거래 내역에 비용 차감 후 순 수익/손해 표시

---

## 우선순위

| 순번 | US ID | 우선순위 | 복잡도 |
|------|-------|---------|--------|
| 1 | US-001, US-002 | 높음 | 중간 |
| 2 | US-003, US-004 | 높음 | 높음 |
| 3 | US-005 | 높음 | 높음 |
| 4 | US-006, US-007 | 높음 | 높음 |
| 5 | US-008 | 중간 | 높음 |
| 6 | US-009, US-010 | 높음 | 중간 |

---

## 유효성 검증

- ✅ 이해관계자 검토: 인터뷰 확인 완료
- ✅ 시나리오 명확성: 각 US마다 명확한 수락 조건 정의
- ✅ 추적성: TICKET-001(인터뷰)로부터 추적 가능
- ✅ 완성도: SRS 작성 준비 완료

