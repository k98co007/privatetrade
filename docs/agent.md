# AI 에이전트 운영 전략 보고서

목적
- 고객 인터뷰를 트리거로 하는 애자일 개발 환경에서 다수의 AI 에이전트를 티켓 기반으로 운영하기 위한 조직도, 역할(R&R), 티켓 흐름, 모니터링 요구사항을 정리한다.

요약
- 고객 인터뷰(매일 진행)는 모든 변경의 트리거이다. 인터뷰 내용은 인터뷰 문서에 기록된다.
- 모든 작업은 티켓으로 관리한다.
- 에이전트들은 ‘운영 에이전트’의 순차적 지시에 따라 티켓을 처리한다. 즉 병렬 동시 처리 대신 운영 에이전트가 우선순위·의존성을 해석하여 하나씩 할당하고 완료 후 다음 티켓을 지시한다.

기본 원칙
- 티켓 기반: 모든 동작(문서·코드·배포·테스트·버그 작성 등)은 티켓으로 표현.
- 티켓 파일: 티켓은 docs/tickets 폴더의 하위에 현재 상태에 따라 todo 폴더, inprogress 폴더, done 폴더로 나누어 이동 저장 된다.
- 단일 책임: 각 AI 에이전트는 명확한 R&R을 갖고 자신에게 할당된 티켓만 처리.
- 순차 운영: 운영 에이전트가 todo 목록(docs/tickets/todo 폴더)의 의존성을 해석하여 순차적으로 에이전트에게 지시.
- 상태 변경: 업무를 수행하는 에이전트는 현재 수행하는 티켓을 inprogress 폴더로 이동하고, 업무 완료시 done 폴더로 이동시켜야 한다.
- 추적성: 모든 티켓은 관련 문서·로그·아티팩트 링크를 포함.

티켓 문서 모델
- ID, 제목, 설명
- 유형(Feature/SRS/HLD/LLD/Code/Build/Deploy/DevOps/HLD-Test/LLD-Test/Env-Setup/Bug/Interview-Correction 등)
- 출처(인터뷰 파일 참조)
- 의존성(선행 티켓 목록)
- 우선순위
- 담당 에이전트
- 상태(대기/진행/검증/완료/차단)
- 생성자/생성일/수정이력
- 산출물 링크(문서, PR, 빌드 로그, 테스트 로그)
- 재현 절차(버그일 경우), 재현율, 관련 로그

에이전트 조직도 및 R&R
- 운영 에이전트 (Orchestrator)
  - todo 티켓 목록을 확인, 의존성(DAG)을 계산하여 실행 순서 결정
  - 담당 에이전트에게 순차적으로 티켓 할당, 티켓 문서는 inprogress 처리 및 수행 명령
  - 완료 확인 후 해당 티켓 문서는 done 처리. 다음 티켓 수행

- 인터뷰 문서 담당자
  - 고객 인터뷰 문서 수정·보완, 인터뷰 오류 발생 시 고객 재인터뷰 진행
  - 인터뷰 변경 시 유저스토리 담당자에게 티켓 발행

- 유저스토리 문서 담당자 (주식투자 전문가)
  - 인터뷰를 읽고 자연어로 정리된 내용을 세부 유저스토리로 변환
  - 유저스토리 변경 시 SRS 담당자에게 SRS 갱신 티켓 발행

- SRS 문서 담당자
  - 유저스토리 기반으로 개발자가 이해할 수 있도록 상세·논리적 요구사항 작성
  - SRS 변경 시 HLD 담당자에게 HLD 갱신 티켓 발행

- HLD 아키텍처 문서 담당자
  - SRS를 읽고 High Level Design 작성(모놀리틱 vs MSA, 레이어/티어/모듈 구성, 모듈별 R&R, DevOps 가이드)
  - HLD 완료 후 다음 담당자들에게 병렬로 티켓 발행:
    - LLD 담당자: 상세 설계
    - HLD 테스트 문서 담당자: HLD 기반 통합 테스트 케이스 작성(LLD 없이도 독립적으로 수행 가능)
    - HLD 테스트 환경 담당자: Mock 서버와 테스트 더블 구현
  - HLD 변경 시 위 세 담당자들에게 모두 갱신 티켓 발행
  - 운영가이드 변경 시 운영 담당자에게 반영 티켓 발행

- LLD 아키텍처 문서 담당자
  - HLD를 읽고 모듈별 상세 설계(인터페이스·시퀀스·제약·내부 로직, 언어 중립적 수도코드) 작성
  - 변경 시 실무 개발자 및 LLD 테스트 담당자에게 티켓 발행

- 실무 개발 담당자
  - LLD를 코드로 구현(빌드 성공, 충분한 로그 포함)
  - 완료 시 CI/CD 담당자에게 빌드 티켓 발행

- CI/CD 담당자
  - HLD와 소스코드를 통해 빌드·배포(실행 가능한 산출물 생성)
  - 배포 후 HLD 테스트 운영 및 LLD 테스트 운영 담당자에게 테스트 요청 티켓 발행

- DevOps 담당자
  - DevOps 가이드와 배포 된 빌드 산출물을 실행하여 실제 서비스 실행 및 모니터링
  - 서비스 실행 문제 발생시 버그 리포트 티켓 발행

- HLD 테스트 문서 담당자
  - HLD 기반 통합 TestCase 작성, 커버리지 측정·보고

- LLD 테스트 문서 담당자
  - LLD 기반 모듈 TestCase 작성, 커버리지 측정·보고

- HLD 테스트 환경 구축 담당자
  - 통합 테스트용 Mock 서버·테스트 더블 구현, 환경 운영 가이드 작성

- LLD 테스트 환경 구축 담당자
  - 모듈 테스트용 Mock·테스트 더블 구현, 운영 가이드 작성

- HLD 테스트 운영 담당자
  - 통합 TestCase와 환경 가이드를 사용해 통합 테스트 수행
  - 결과 보고서 작성 및 버그 리포트(재현 절차·재현율·로그 포함) 티켓 발행

- LLD 테스트 운영 담당자
  - 모듈 테스트 수행 및 버그 리포트 티켓 발행

- 실무 디버깅 담당자
  - 버그 리포트·로그·LLD·코드를 분석·수정 후 CI에 빌드 티켓 발행
  - LLD 문제 시 LLD 아키텍처 버그 리포트 티켓 발행
  - 로그 부족으로 인해 분석 불가할 경우 로그 보강 후 CI에 빌드 티켓 발행

- LLD 아키텍처 디버깅 담당자
  - LLD 관련 버그 분석 및 LLD 문서 수정
  - 수정 발생 시 실무 개발자·LLD 테스트·LLD 테스트 환경 담당자에게 티켓 발행
  - HLD 문제 시 HLD 아키텍처 버그 리포트 티켓 발행

- HLD 아키텍처 디버깅 담당자
  - HLD 관련 버그 분석 및 HLD 수정
  - 수정 발생 시 LLD 담당자·HLD 테스트 담당자·HLD 테스트 환경 담당자에게 티켓 발행
  - SRS 문제 시 SRS 버그 리포트 티켓 발행

- SRS 문서 디버깅 담당자
  - SRS 관련 버그 분석·수정
  - 수정 발생 시 HLD 담당자에게 갱신 티켓 발행
  - 유저스토리 문제 시 유저스토리 버그 리포트 티켓 발행

- 유저스토리 문서 디버깅 담당자
  - 유저스토리 관련 버그 분석·수정
  - 수정 발생 시 SRS 담당자에게 갱신 티켓 발행
  - 인터뷰 문제시 인터뷰 버그 리포트 티켓 발행

티켓 흐름(일반 시나리오)
1. 인터뷰 완료 → 인터뷰 문서 저장
2. 운영 에이전트는 인터뷰 문서를 검토 후 유저스토리 작성/갱신이 필요하면 유저스토리 담당자에게 티켓 발행
3. 유저스토리 완료 → SRS 담당자에게 티켓 발행
4. SRS 완료 → HLD 담당자에게 티켓 발행
5. HLD 완료 → LLD 담당자, HLD 테스트 문서 담당자, HLD 테스트 환경 담당자에게 병렬 티켓 발행
6. LLD 완료 → 실무 개발자, LLD 테스트 문서 담당자, LLD 테스트 환경 담당자에게 병렬 티켓 발행
7. 개발 완료 → CI/CD 담당자에게 빌드 티켓 발행
8. 배포 완료 → HLD/LLD 테스트 운영 담당자에게 테스트 수행 티켓 발행 (단, LLD 테스트 환경이 준비된 후)
9. 테스트 실패 → 버그 리포트 작성 → 해당 디버깅 담당자(실무/LLD/HLD/SRS/유저스토리)에게 티켓 발행
10. 디버깅 완료 → 담당 영역에 따라:
   - 코드 버그: 실무 디버깅 담당자 → CI/CD 빌드 티켓 → 재테스트 담당자에게 재테스트 티켓 발행 → 테스트 결과 보고
   - LLD 버그: LLD 아키텍처 디버깅 담당자 → 문서 수정 → 실무 개발자, LLD 테스트, LLD 테스트 환경 담당자에게 재작업 티켓
   - HLD 버그: HLD 아키텍처 디버깅 담당자 → 문서 수정 → LLD 담당자, HLD/LLD 테스트 담당자들에게 재작업 티켓
   - SRS/유저스토리 버그: 상위 문서 담당자들이 수정 후 하위 담당자들에게 연쇄 갱신 티켓 발행
11. 모든 테스트 통과 시 릴리스 표시 및 DevOps 담당자에게 서비스 배포·모니터링 티켓 발행

버그 티켓 요구사항
- 재현 절차, 재현율, 로그(빌드·서비스 출력), 관련 문서 링크, 영향 범위, 우선순위, 버그 분류(코드/설계/요구사항)

품질 승인 기준(문서별 완료 정의)
- 인터뷰 문서: 고객 확인 완료, 명확성·일관성 검증
- 유저스토리: 이해관계자 검토 완료, 시나리오 명확성 확보
- SRS: 모호함 제거, 추적성 확보(유저스토리 ↔ 요구사항 1:N 매핑), 설계자 검토 승인
- HLD: 아키텍처 리뷰 완료, 모듈 간 인터페이스 정의, DevOps 실행 가능성 확인
- LLD: 인터페이스·시퀀스·제약 완성, 수도코드 수행 가능성 확인, 개발자 검토 승인
- 테스트 케이스: 요구사항/설계 커버리지 ≥ 80%, 케이스 명확성·재현성 확보
- 코드: 빌드 성공, 충분한 로그 포함, 코드 리뷰 승인

병렬 처리 예외 규칙
- 허용 조건: 두 작업 간에 입력·출력 의존성이 전혀 없을 때
- 이미 완성된 시스템 모듈에서 새 기능 추가 시, 다른 모듈의 LLD/개발과 병렬 진행 가능
- 테스트 환경 구축(Mock, 테스트 더블)과 테스트 문서 작성은 독립적이므로 병렬 가능
- HLD 기반 통합 테스트와 LLD 기반 모듈 테스트는 의존성이 약하므로 병렬 진행 권장
- 단, 병렬 허가는 운영 에이전트의 명시적 승인 필요

테스트 환경 준비 의존성
- LLD 테스트 운영 담당자는 LLD 테스트 환경 담당자가 완료한 Mock/테스트 더블 이후에만 진행 가능
  → 티켓 모델에 선행 조건 명시: "LLD 테스트 환경 구축 완료" 선행
- HLD 테스트 운영 담당자는 HLD 테스트 환경 담당자 완료 필수

버전 관리 및 롤백 정책
- 모든 산출물(문서·코드·빌드)은 버전 번호 부여: Major.Minor.Patch 형식
- 모든 문서, 코드는 티켓에 의해 변경 완료시 커밋
- 인터뷰/요구사항 변경이 기존 명시된 기능과 충돌할 경우: 운영 에이전트가 영향도 분석 후 결정
  - 신규 기능 추가: 새 버전(Minor 증가)
  - 기존 기능 변경: 하위 호환성 검토, 필요시 롤백 계획 수립
- 배포 후 심각한 버그 발견 시: 롤백 결정권은 운영 에이전트/관리자, 롤백 실행은 DevOps 담당자
- 롤백 시 근본 원인 분석 및 버그 리포트 필수

운영 정책(핵심)
- 운영 에이전트가 의존성 그래프를 계산하여 선행되지 않은 티켓은 실행 금지.
- 모든 변경은 티켓으로 기록되어야 하며, 변경 시 호출되는 후속 티켓을 자동 생성.
- 인터뷰 변경 시 운영 에이전트는 영향도 분석을 수행하여 기존 유저스토리의 재검토 필요 여부를 판단 후 해당 담당자에게 갱신 티켓 발행.

파일 생성 및 정리 규칙
- **티켓 보고서 위치**: 모든 티켓 관련 보고서, 완료 리포트, 체크리스트, 요약 문서는 반드시 `docs/tickets/reports/` 폴더에 생성해야 함
  - 예: TICKET-XXX-COMPLETION-REPORT.md, TICKET-XXX-DEPLOYMENT-REPORT.md, TICKET-XXX-EXECUTIVE-SUMMARY.md 등
  - 최상위 폴더에 티켓 관련 문서를 생성하지 않음
- **테스트 스크립트 관리**: 임시 테스트 스크립트나 검증 스크립트는 다음 규칙을 따름
  - 정식 테스트 파일이 아닌 일회성 검증 스크립트는 작업 완료 후 즉시 삭제
  - 재사용 가능한 테스트의 경우 적절한 테스트 디렉토리(예: test/, backend/test/, py_backtest/test/ 등)에 배치
  - 최상위 폴더에 test_*.py, test_*.js, verify_*.py 등의 임시 파일을 남기지 않음
- **프로젝트 루트 정리**: 프로젝트 최상위 폴더는 주요 설정 파일(package.json, requirements.txt, docker-compose.yml 등)과 README만 유지
  - 작업 산출물은 반드시 적절한 하위 디렉토리에 구조화하여 저장
  - 작업 완료 시 임시 파일 및 불필요한 파일 정리를 필수로 수행

통합 로깅 정책
- 목적: 모든 에이전트의 활동을 시간 순서대로 기록하여 운영 상황을 실시간으로 추적 가능하게 함.
- 로그 저장 위치: docs/log 폴더
- 로그 파일 명명 규칙: YYYYMMDD_NNN.log (예: 20260208_001.log, 20260208_002.log)
  - YYYYMMDD: 로그 생성 날짜 (ISO 8601 형식)
  - NNN: 일일 순차 인덱스 (001부터 시작, 분할 시 증가)
- 로그 크기 제한: 파일당 최대 1MB. 초과 시 자동 분할 (다음 인덱스 파일로 롤링)
- 로그 보관 기간: 최소 90일 (운영 추적성 확보), 이후 아카이빙 또는 삭제 정책은 별도 운영 규정 수립

로그 항목 기록 사항
- 타임스탐프 (ISO 8601, 밀리초 포함): "2026-02-08T14:35:27.123Z"
- 에이전트 역할 (Orchestrator, Developer, Tester 등)
- 활동 유형: 티켓 할당(ASSIGN), 상태 변경(STATE_CHANGE), 작업 완료(COMPLETE), 에러(ERROR), 검증(VALIDATE) 등
- 티켓 ID 및 제목
- 상태 전이: from → to (예: "todo → inprogress")
- 설명/메시지: 활동 내용 요약 (최대 500자)
- 산출물 경로 (해당하는 경우): 수정된 파일, PR 링크, 빌드 로그 링크 등
- 심각도 (INFO, WARN, ERROR): 일반 정보/경고/에러

로그 포맷 (구조화된 JSON 또는 TSV)
```
[타임스탐프] [심각도] [에이전트역할] [활동유형] [티켓ID] [상태전이] [메시지] [산출물]
예:
2026-02-08T14:35:27.123Z | INFO | Orchestrator | ASSIGN | TICKET-001 | - | 티켓을 개발자에게 할당 | docs/tickets/inprogress/TICKET-001.md
2026-02-08T14:36:15.456Z | INFO | Developer | STATE_CHANGE | TICKET-001 | todo→inprogress | 개발 시작 | -
2026-02-08T15:42:33.789Z | ERROR | Developer | COMPLETE | TICKET-001 | inprogress→error | 빌드 실패 | logs/build_20260208_001.log
```

로그 접근 및 분석
- 실시간 모니터링: 운영 에이전트는 log 폴더의 최신 파일을 주기적으로 확인하여 진행 상황 파악
- 이력 추적: 특정 티켓의 생명주기 추적 시 티켓 ID로 로그 검색
- 성능 분석: 에이전트별·활동유형별 작업 소요 시간 분석 (로그 기반 통계)
- 문제 진단: 오류 발생 시 ERROR 심각도 항목과 연결된 산출물(빌드 로그, 테스트 로그 등)을 추적하여 근본 원인 분석

추적성 및 문서화
- 인터뷰 문서, 유저스토리, SRS, HLD, LLD, 테스트 문서, CI 로그 등 모든 산출물은 티켓과 연결되어야 함.
- 모든 변경(문서 수정, 코드 커밋, 버그 수정)은 최초 인터뷰 또는 변경 요청 인터뷰로 추적 가능해야 함.

참고
- 이 보고서는 애자일 개발 프로세스를 티켓 기반 AI 에이전트 운영으로 구현하는 프레임워크입니다.

작성일: 2026-02-07
최종 수정: 2026-02-09
